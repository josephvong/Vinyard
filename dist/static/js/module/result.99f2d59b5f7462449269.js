webpackJsonp([3],{100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),a=n(60),i=n.n(a),o=n(27),c=(n.n(o),n(62));n.n(c).a.attach(document.body),s.a.config.productionTip=!1,new s.a({render:function(e){return e(i.a,{})},mounted:function(){}}).$mount("#app")},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),a=n.n(s);t.default={name:"app",data:function(){return{}},computed:{},components:{Result:a.a},mounted:function(){}}},11:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag-header-wrap"},[n("div",{ref:"tagHeader",staticClass:"header clearfix"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.selectedObj.district,expression:"selectedObj.district"}],staticClass:"top-tag",attrs:{tId:e.selectedObj.district},on:{click:function(t){e.tagClickHandle("district")}}},[e._v("\n      "+e._s(e.selectedObj.district)+"\n    ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.selectedObj.wine_type,expression:"selectedObj.wine_type"}],staticClass:"top-tag",attrs:{tId:e.selectedObj.wine_type},on:{click:function(t){e.tagClickHandle("wine_type")}}},[e._v("\n      "+e._s(e.selectedObj.wine_type)+"\n    ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.selectedObj.grape,expression:"selectedObj.grape"}],staticClass:"top-tag",attrs:{tId:e.selectedObj.grape},on:{click:function(t){e.tagClickHandle("grape")}}},[e._v("\n      "+e._s(e.selectedObj.grape)+"\n    ")])])])},staticRenderFns:[]}},12:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"float-btn homebtn"},[n("a",{on:{click:function(t){e.backHomeHandle()}}})])},staticRenderFns:[]}},13:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-item"},[n("div",{staticClass:"item-wrap"},[n("div",{staticClass:"left"},[n("div",{staticClass:"thumb"},[n("img",{attrs:{src:e.infoObj.pic_url}})])]),e._v(" "),n("div",{staticClass:"content-wrap"},[n("p",{staticClass:"c-name"},[e._v(e._s(e.infoObj.name_ch)+" ")]),e._v(" "),n("p",{staticClass:"e-name"},[e._v(e._s(e.infoObj.name_en))]),e._v(" "),n("p",{staticClass:"rigion"},[n("span",{staticClass:"country"},[e._v(e._s(e.infoObj.country_ch))]),e._v(" >\n        "),n("span",{staticClass:"main-reg"},[e._v(e._s(e.infoObj.region_ch))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.infoObj.sub_region_ch,expression:"infoObj.sub_region_ch"}],staticClass:"sub-reg"},[e._v(" > "+e._s(e.infoObj.sub_region_ch))])]),e._v(" "),n("p",{staticClass:"type"},[e._v("\n        "+e._s(e.infoObj.wine_type_ch)+" | "+e._s(e.infoObj.sugar_ch)+"\n      ")]),e._v(" "),n("p",{staticClass:"grape"},e._l(e.infoObj.grape,function(t){return n("span",[e._v(" "+e._s(t.grape_ch)+" ")])})),e._v(" "),n("p")])]),e._v(" "),n("div",{staticClass:"btn-wrap clearfix"},[n("a",{staticClass:"contact",attrs:{link:e.infoObj.winery_url},on:{click:function(t){e.wineryClickHandle()}}},[e._v("联系酒庄")]),e._v(" "),n("a",{staticClass:"detail",attrs:{wine_id:e.infoObj.wine_id,sign:e.infoObj.sign},on:{click:function(t){e.detailClickHandle()}}},[e._v("酒款详情")])])])},staticRenderFns:[]}},14:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"resultPage",staticClass:"result"},[n("TagHead",{attrs:{selectedObj:e.selectedObj,eventHub:e.eventHub}}),e._v(" "),n("div",{staticClass:"list-wrap"},[n("ul",{staticClass:"result-list"},e._l(e.resultList,function(t,s){return n("ListItem",{key:s,attrs:{infoObj:t,eventHub:e.eventHub}})})),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isNoResult,expression:"isNoResult"}],staticClass:"no-result"},[e._v("没有更多酒款")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isNoMore,expression:"!isNoMore"}],staticClass:"add-more"},[e._v("正在加载中...")])]),e._v(" "),n("HomeBtn",{attrs:{url:"module/select.html"}})],1)},staticRenderFns:[]}},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"homebtn",props:{url:{type:String}},data:function(){return{}},computed:{},methods:{backHomeHandle:function(){event.preventDefault(),"/"==this.url?(window.history.replaceState("","",""),window.localStorage.removeItem("selectedObj"),this.$router.push({path:"/"})):"module/select.html"==this.url&&(window.location.href="/module/select.html")}},components:{},mounted:function(){}}},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"listitem",props:{infoObj:{type:Object,default:{}},eventHub:{type:Object}},data:function(){return{}},computed:{},methods:{wineryClickHandle:function(){var e=event.target.getAttribute("link");this.eventHub.$emit("savePageStatus"),window.open(e)},detailClickHandle:function(){var e=event.target.getAttribute("wine_id"),t=event.target.getAttribute("sign");this.eventHub.$emit("savePageStatus"),window.open("http://h5.9kacha.com/index.php/Wine/custom_detail?wine_id="+e+"&sign="+t+"&from=2b")}},components:{},mounted:function(){}}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),a=n.n(s),i=n(9),o=n.n(i),c=n(8),r=n.n(c),l=n(3),d=n.n(l),u=n(2),p=n.n(u),f=n(1);t.default={name:"result",props:{},data:function(){return{selectedObj:p.a.extend({},JSON.parse(window.localStorage.getItem("selectedObj"))),resultList:JSON.parse(window.localStorage.getItem("resultList"))||[],pageIndex:parseInt(window.localStorage.getItem("pageIndex"))||1,isNoResult:!1,isNoMore:!1,stopScrollRequest:!1,staticData:{authparams:{app_id:"343535",rtoken:"sldffyy9767",time:1489131067},authmode:"app",country:"意大利",cookie:"940158d239561338e"},eventHub:new f.a}},computed:{},methods:{dataLoad:function(e,t){var n=this,s={};s.region=e.district||"0",s.wine_type=e.wine_type||"0",s.grape=e.grape||"0";var i=p.a.extend({},this.staticData,s,{page:t});p.a.ajax({url:"http://zyshi.9kacha.com/AutoRecommWines/toBfindWine/findWine.php",type:"POST",data:{jparams:a()(i)},success:function(e){n.stopScrollRequest=!1;var s=JSON.parse(e);n.getDataCb(s,t)},error:function(e){n.isNoResult=!0,console.log(e)}})},getDataCb:function(e,t){if("ok"==e.description){if(e.jsonData.length>0){var n=this.resultList;this.resultList=n.concat(e.jsonData),e.jsonData.length<10&&(this.isNoMore=!0)}}else this.isNoMore=!0,this.isNoResult=!0},editSelectedObj:function(e){var t=this;this.selectedObj[e.catalogName]==e.tId&&(this.selectedObj[e.catalogName]=null),window.localStorage.setItem("selectedObj",a()(this.selectedObj)),p()(window).scrollTop(0),this.resultList=[],this.pageIndex=1,this.$nextTick(function(){t.dataLoad(t.selectedObj,t.pageIndex)})},savePageStatus:function(){window.localStorage.setItem("resultList",a()(this.resultList)),window.localStorage.setItem("pageIndex",this.pageIndex),window.localStorage.setItem("scrollTop",p()(window).scrollTop())},fixedHeader:function(e){p()(this.$refs.resultPage).css("padding-top",e)}},components:{TagHead:o.a,ListItem:r.a,HomeBtn:d.a},mounted:function(){var e=this;window.localStorage.getItem("scrollTop")&&p()(window).scrollTop(window.localStorage.getItem("scrollTop")),this.eventHub.$on("fixedHeader",function(t){e.fixedHeader(t)}),this.dataLoad(this.selectedObj,this.pageIndex),p()(window).on("scroll",function(){var t=p()(window).height();p()("body").outerHeight()-t-p()(window).scrollTop()<=0&&(e.stopScrollRequest||(e.stopScrollRequest=!0,e.pageIndex+=1,e.dataLoad(e.selectedObj,e.pageIndex)))}),this.eventHub.$on("editSelectedObj",function(t){e.editSelectedObj(t)}),this.eventHub.$on("savePageStatus",function(){e.savePageStatus()})}}},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),a=n.n(s);t.default={name:"taghead",props:{selectedObj:{type:Object,default:{}},eventHub:{type:Object}},data:function(){return{}},computed:{},methods:{fixedHeader:function(){var e=this,t=a()(this.$refs.tagHeader).outerHeight();this.$nextTick(function(){e.eventHub.$emit("fixedHeader",t)})},tagClickHandle:function(e){var t=e,n=event.target.getAttribute("tId");this.eventHub.$emit("editSelectedObj",{catalogName:t,tId:n})}},components:{},mounted:function(){this.fixedHeader()}}},3:function(e,t,n){n(16);var s=n(0)(n(19),n(12),null,null);e.exports=s.exports},59:function(e,t){},60:function(e,t,n){n(68);var s=n(0)(n(103),n(65),"data-v-0d07532f",null);e.exports=s.exports},65:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("Result")],1)},staticRenderFns:[]}},68:function(e,t){},7:function(e,t,n){n(18);var s=n(0)(n(21),n(14),null,null);e.exports=s.exports},8:function(e,t,n){n(17);var s=n(0)(n(20),n(13),null,null);e.exports=s.exports},9:function(e,t,n){n(15);var s=n(0)(n(22),n(11),null,null);e.exports=s.exports}},[100]);
//# sourceMappingURL=result.99f2d59b5f7462449269.js.map